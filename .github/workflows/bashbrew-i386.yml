# DO NOT EDIT MANUALLY - This file is auto-generated from bashbrew.json

name: Bashbrew (i386)
'on':
  schedule:
    - cron: 45 3 6 * *
  workflow_dispatch:
    inputs:
      target_job:
        description: Target job to run
        required: true
        type: choice
        default: all
        options:
          - all
          - generic-x86-alpine
          - generic-x86-alpine-golang
          - generic-x86-alpine-node
          - generic-x86-alpine-openjdk
          - generic-x86-alpine-python
          - generic-x86-debian
          - generic-x86-debian-golang
          - generic-x86-debian-node
          - generic-x86-debian-openjdk
          - generic-x86-debian-python
          - generic-x86-ubuntu
          - generic-x86-ubuntu-golang
          - generic-x86-ubuntu-node
          - generic-x86-ubuntu-openjdk
          - generic-x86-ubuntu-python
          - i386-alpine
          - i386-alpine-golang
          - i386-alpine-node
          - i386-alpine-openjdk
          - i386-alpine-python
          - i386-debian
          - i386-debian-golang
          - i386-debian-node
          - i386-debian-openjdk
          - i386-debian-python
          - i386-ubuntu
          - i386-ubuntu-golang
          - i386-ubuntu-node
          - i386-ubuntu-openjdk
          - i386-ubuntu-python
      namespaces:
        description: Space separated list of image namespaces to act upon
        required: true
        type: string
        default: balenalib
      include_dependents:
        description: Whether to build jobs that depend on the target job
        required: true
        type: boolean
        default: true
      no_build:
        description: Don't build, print what would build
        required: false
        type: boolean
        default: false
      no_push:
        description: Don't push, print what would push
        required: false
        type: boolean
        default: false
concurrency:
  group: ${{ github.workflow }}-${{ inputs.namespaces }}
  cancel-in-progress: true
jobs:
  i386-alpine:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs: []
    if: inputs.target_job == 'i386-alpine' || inputs.target_job == 'all' || inputs.target_job == 'i386-alpine-golang' || inputs.target_job == 'i386-alpine-node' || inputs.target_job == 'i386-alpine-openjdk' || inputs.target_job == 'i386-alpine-python' || inputs.target_job == 'generic-x86-alpine'
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-alpine" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-alpine-golang:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-alpine
    if: inputs.target_job == 'i386-alpine-golang' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-alpine-golang" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-alpine-node:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-alpine
    if: inputs.target_job == 'i386-alpine-node' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-alpine-node" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-alpine-openjdk:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-alpine
    if: inputs.target_job == 'i386-alpine-openjdk' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-alpine-openjdk" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-alpine-python:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-alpine
    if: inputs.target_job == 'i386-alpine-python' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-alpine-python" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-debian:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs: []
    if: inputs.target_job == 'i386-debian' || inputs.target_job == 'all' || inputs.target_job == 'i386-debian-golang' || inputs.target_job == 'i386-debian-node' || inputs.target_job == 'i386-debian-openjdk' || inputs.target_job == 'i386-debian-python' || inputs.target_job == 'generic-x86-debian'
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-debian" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-debian-golang:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-debian
    if: inputs.target_job == 'i386-debian-golang' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-debian-golang" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-debian-node:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-debian
    if: inputs.target_job == 'i386-debian-node' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-debian-node" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-debian-openjdk:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-debian
    if: inputs.target_job == 'i386-debian-openjdk' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-debian-openjdk" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-debian-python:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-debian
    if: inputs.target_job == 'i386-debian-python' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-debian-python" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-ubuntu:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs: []
    if: inputs.target_job == 'i386-ubuntu' || inputs.target_job == 'all' || inputs.target_job == 'i386-ubuntu-golang' || inputs.target_job == 'i386-ubuntu-node' || inputs.target_job == 'i386-ubuntu-openjdk' || inputs.target_job == 'i386-ubuntu-python' || inputs.target_job == 'generic-x86-ubuntu'
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-ubuntu" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-ubuntu-golang:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-ubuntu
    if: inputs.target_job == 'i386-ubuntu-golang' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-ubuntu-golang" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-ubuntu-node:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-ubuntu
    if: inputs.target_job == 'i386-ubuntu-node' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-ubuntu-node" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-ubuntu-openjdk:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-ubuntu
    if: inputs.target_job == 'i386-ubuntu-openjdk' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-ubuntu-openjdk" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  i386-ubuntu-python:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-ubuntu
    if: inputs.target_job == 'i386-ubuntu-python' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "i386-ubuntu-python" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-alpine:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-alpine
    if: inputs.target_job == 'generic-x86-alpine' || inputs.target_job == 'all' || inputs.target_job == 'generic-x86-alpine-golang' || inputs.target_job == 'generic-x86-alpine-node' || inputs.target_job == 'generic-x86-alpine-openjdk' || inputs.target_job == 'generic-x86-alpine-python' || (inputs.include_dependents && (inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-alpine" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-alpine-golang:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-alpine
    if: inputs.target_job == 'generic-x86-alpine-golang' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-alpine' || inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-alpine-golang" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-alpine-node:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-alpine
    if: inputs.target_job == 'generic-x86-alpine-node' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-alpine' || inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-alpine-node" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-alpine-openjdk:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-alpine
    if: inputs.target_job == 'generic-x86-alpine-openjdk' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-alpine' || inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-alpine-openjdk" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-alpine-python:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-alpine
    if: inputs.target_job == 'generic-x86-alpine-python' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-alpine' || inputs.target_job == 'i386-alpine'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-alpine-python" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-debian:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-debian
    if: inputs.target_job == 'generic-x86-debian' || inputs.target_job == 'all' || inputs.target_job == 'generic-x86-debian-golang' || inputs.target_job == 'generic-x86-debian-node' || inputs.target_job == 'generic-x86-debian-openjdk' || inputs.target_job == 'generic-x86-debian-python' || (inputs.include_dependents && (inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-debian" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-debian-golang:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-debian
    if: inputs.target_job == 'generic-x86-debian-golang' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-debian' || inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-debian-golang" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-debian-node:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-debian
    if: inputs.target_job == 'generic-x86-debian-node' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-debian' || inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-debian-node" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-debian-openjdk:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-debian
    if: inputs.target_job == 'generic-x86-debian-openjdk' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-debian' || inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-debian-openjdk" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-debian-python:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-debian
    if: inputs.target_job == 'generic-x86-debian-python' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-debian' || inputs.target_job == 'i386-debian'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-debian-python" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-ubuntu:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - i386-ubuntu
    if: inputs.target_job == 'generic-x86-ubuntu' || inputs.target_job == 'all' || inputs.target_job == 'generic-x86-ubuntu-golang' || inputs.target_job == 'generic-x86-ubuntu-node' || inputs.target_job == 'generic-x86-ubuntu-openjdk' || inputs.target_job == 'generic-x86-ubuntu-python' || (inputs.include_dependents && (inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-ubuntu" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-ubuntu-golang:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-ubuntu
    if: inputs.target_job == 'generic-x86-ubuntu-golang' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-ubuntu' || inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-ubuntu-golang" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-ubuntu-node:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-ubuntu
    if: inputs.target_job == 'generic-x86-ubuntu-node' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-ubuntu' || inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-ubuntu-node" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-ubuntu-openjdk:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-ubuntu
    if: inputs.target_job == 'generic-x86-ubuntu-openjdk' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-ubuntu' || inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-ubuntu-openjdk" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
  generic-x86-ubuntu-python:
    runs-on:
      - self-hosted
      - base-images
      - X64
    timeout-minutes: 480
    needs:
      - generic-x86-ubuntu
    if: inputs.target_job == 'generic-x86-ubuntu-python' || inputs.target_job == 'all' || (inputs.include_dependents && (inputs.target_job == 'generic-x86-ubuntu' || inputs.target_job == 'i386-ubuntu'))
    steps:
      - name: Checkout code
        uses: actions/checkout@v3
        with:
          fetch-depth: 1
      - name: Disable build
        if: ${{ inputs.no_build }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-build" >> $GITHUB_ENV
      - name: Disable push
        if: ${{ inputs.no_push }}
        run: echo "EXTRA_OPTS=$EXTRA_OPTS --no-push" >> $GITHUB_ENV
      - name: Login to DockerHub
        uses: docker/login-action@v2
        with:
          registry: docker.io
          username: ${{ secrets.BALENAIMAGES_USER }}
          password: ${{ secrets.BALENAIMAGES_TOKEN }}
      - name: Run bashbrew build
        working-directory: bashbrew
        run: ./bashbrew.sh build "qemux86-ubuntu-python" --src=$(pwd)/src --logs=$(pwd)/logs --library=$(pwd)/../library --namespaces="${{ inputs.namespaces }}" --platform="linux/386" --alias="stem-x86-32" $EXTRA_OPTS
      - name: Upload logs
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: logs
          path: bashbrew/logs/
          retention-days: 90
